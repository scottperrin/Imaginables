<!-- snippets/product-stories.liquid -->
{% assign count = 0 %}
{% for article in blogs.stories.articles %}
  {% assign count = count | plus: 1 %}
{% endfor %}
{% if count > 1 %}
  <section id="stories" class="container color grey">
    <div class="wrapper">
      <div class="grid--full grid-uniform">
        <div class="grid__item flex__item">
    			<h3 class="text-center">Stories</h3>
    		</div>
        <div class="grid__item flex__item">
          <div class="slick-wrapper">
            <div class="slick_left">{% include 'icon' with 'previous' %}</div>
            <div class="slick_right">{% include 'icon' with 'next' %}</div>
            <div class="slick-stories grid-uniform">
              {% for article in blogs.stories.articles limit:16 %}
              {% include 'shortcode' load: article.content %}
                <div class="grid__item text-center">
                  <div class="story-wrapper">
                    {% if link != blank %}<a href="{{ link }}" target="_blank" rel="nofollow" title="{{ article.title }}">{% endif %}<img src="{{ article | img_url: 'large' }}" alt="{{ article.title }}">{% if link != blank %}</a>{% endif %}
                    <p>
                      {% if link != blank %}<a target="_blank" rel="nofollow" title="{{ article.title }}" href="{{ link }}">{% endif %}
                        {{ article.title }}
                      {% if link != blank %}</a>{% endif %}
                    </p>
                  </div>
                </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
{% endif %}
<script>
$( document ).ready(function() {
  $('.slick-stories').slick({
  dots: false,
  prevArrow: '#stories .slick_left',
  nextArrow: '#stories .slick_right',
  infinite: true,
  speed: 300,
  slidesToShow: 3,
  slidesToScroll: 3,
  responsive: [
    {
      breakpoint: 1024,
      settings: {
        slidesToShow: 3,
        slidesToScroll: 3,
        infinite: true
      }
    },
    {
      breakpoint: 600,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2
      }
    },
    {
      breakpoint: 480,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1
      }
    }
  ]
  });
});
</script>
